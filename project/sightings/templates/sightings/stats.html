<html>
   <head>
      <title>Highcharts Tutorial</title>
      <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>
      <script src = "https://code.highcharts.com/highcharts.js"></script> 
      <script language = "JavaScript"> 
	    var list = {{context|safe}};
      </script>
   </head>
   
   <body>
      <div id = "container"></div>
      <script language = "JavaScript">
         $(document).ready(function() {  
            var chart = {
               type: 'bar'
            };
            var title = {
               text: 'Central Park Squirrel Data Summary'   
            };
            var xAxis = {
               categories: ['Color','Age','Location','Attitude','Activity'],
               title: {
                  text: null
               }
            };
            var yAxis = {
               min: 0,
               title: {
                  text: 'Population',
                  align: 'high'
               },
              labels: {
                  overflow: 'justify'
               }
            };
            var tooltip = {
               valueSuffix: 'squirrels'
            };
            var plotOptions = {
               bar: {
                  dataLabels: {
                     enabled: true
                  }
               },
               series: {
                  stacking: 'normal',
		  colorByPoint:true
               }
            };
            var legend = {
               layout: 'vertical',
               align: 'right',
               verticalAlign: 'top',
               x: -40,
               y: 100,
               floating: true,
               borderWidth: 1,
               
               backgroundColor: (
                  (Highcharts.theme && Highcharts.theme.legendBackgroundColor)
                  || '#FFFFFF'),
               shadow: true
            };
            var credits = {
               enabled: false
            };
            var series = [
               {
                  name: 'Gray',
		  data: [(list.gray_count),null]
               }, 
               {
                  name: 'Cinnamon',
                  data: [(list.cinnamon_count),null]
               }, 
               {
                  name: 'Black',
                  data: [(list.black_count),null]
               },
	       {
                  name: 'Adult',
                  data: [null,(list.adult_count)]
               }, 
               {
                  name: 'Juvenile',
                  data: [null,(list.juvenile_count)]
               }, 
               {
                  name: 'Ground plane',
                  data: [null,null,(list.ground_plane_count)]
              },
	       {
                  name: 'Above ground',
                  data: [null,null,(list.above_ground_count)]
               },
	       {
                  name: 'Approaches',
                  data: [null,null,null,(list.approaches_count)]
               },
	       {
                  name: 'Indifferent',
                  data: [null,null,null,(list.indifferent_count)]
               }, 
               {
                  name: 'Runs from',
                  data: [null,null,null,(list.runs_from_count)]
               }, 
               {
                  name: 'Running',
                  data: [null,null,null,null,(list.running_true_count)]      
               },
               {
                  name: 'Chasing',
                  data: [null,null,null,null,(list.chasing_true_count)]
               }, 
               {
                  name: 'Climbing',
                  data: [null,null,null,null,(list.climbing_true_count)]
               }, 
               {
                  name: 'Eating',
                  data: [null,null,null,null,(list.eating_true_count)]
               },
               {
                  name: 'Foraging',
                  data: [null,null,null,null,(list.foraging_true_count)]
               }
            ];
      
            var json = {};   
            json.chart = chart; 
            json.title = title;    
            json.tooltip = tooltip;
            json.xAxis = xAxis;
            json.yAxis = yAxis;  
            json.series = series;
            json.plotOptions = plotOptions;
            json.legend = legend;
            json.credits = credits;
            $('#container').highcharts(json);
         });
      </script>
   </body>
   
</html>
